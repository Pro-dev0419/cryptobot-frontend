import{_ as v,d as x,r as w,o as c,f as m,b as e,F as _,l as k,h as S,s as f,v as y,a as p,g as B,w as N,k as l,x as V,y as I,i as L,t as P,z as U}from"./index.a5400c82.js";const $=x({name:"Login",props:{},emits:[],setup(){const t=l([]),r=l(null),n=l(null),i=l(""),a=V(),b=I(a.nextBotId);return{email:r,password:n,errors:t,handleSubmit:s=>{if(s.preventDefault(),r.value&&n.value)return U().login(r.value,n.value).then(g=>{let d=JSON.parse(JSON.stringify(g));console.log("user:",+d);const u=l({botName:"Athenea1",url:d.user.api_url_bot1,username:d.user.api_username_bot1,password:d.user.api_password_bot1});b.login(u.value).then(()=>{const o=a.nextBotId;a.addBot({botName:u.value.botName,botId:o,botUrl:u.value.url}),a.selectedBot===""&&(console.log(`selecting bot ${o}`),a.selectBot(o)),a.allRefreshFull()}).catch(o=>{console.error(o),o.response&&o.response.status===401?i.value="Connected to bot, however Login failed, Username or Password wrong.":i.value=`Login failed.
                                                        Please verify that the bot is running, the Bot API is enabled and the URL is reachable.
                                                        You can verify this by navigating to ${u.value.url}/api/v1/ping to make sure the bot API is reachable`,console.error(i.value)})}).catch(g=>console.error("There was an error!",g));t.value=[],r.value||t.value.push("Email required."),n.value||t.value.push("Password required."),s.preventDefault()}}},components:{}}),A={class:"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"},C=e("h2",{class:"flex items-center mb-6 text-3xl font-semibold text-gray-900 text-white"}," Sign In ",-1),D=e("span",null,"For your protection, please verify your identity.",-1),F={class:"w-full md:mt-0 sm:max-w-lg xl:p-0"},E={class:"p-6 space-y-4 md:space-y-6 sm:p-8"},R={key:0},T={class:"text-red-500"},j=e("label",{for:"email",class:"block mb-2 text-sm font-medium text-gray-900 text-white"},[p(" Email Address "),e("span",{class:"text-red-500"},"*")],-1),q=e("label",{for:"password",class:"block mb-2 text-sm font-medium text-gray-900 text-white"},[p("Password "),e("span",{class:"text-red-500"},"*")],-1),J=L('<div class="flex items-center justify-between"><div class="flex items-start"><div class="flex items-center h-5"><input id="remember" type="checkbox" value="" class="w-4 h-4 text-green-500 accent-green-600 bg-gray-500 border-gray-300 rounded dark:focus:ring-green-600 dark:ring-offset-gray-800 focus:ring-gray-300 dark:bg-gray-700 dark:border-gray-600"></div><div class="ml-3 text-sm"><label for="remember" class="text-white dark:text-gray-300">Remember me</label></div></div><a href="#" class="text-sm font-medium text-primary-600 hover:underline dark:text-primary-500">Forgot password?</a></div><button type="submit" class="w-full bg-transparent hover:bg-green-500 text-green-700 font-semibold hover:text-white py-2 px-4 border border-green-500 hover:border-transparent rounded-lg">Sign in</button>',2),M={class:"text-sm font-light text-primary-600 dark:text-gray-400 text-center"};function O(t,r,n,i,a,b){const h=w("router-link");return c(),m("div",A,[C,D,e("div",F,[e("div",E,[t.errors.length?(c(),m("p",R,[e("ul",null,[(c(!0),m(_,null,k(t.errors,s=>(c(),m("li",T,P(s),1))),256))])])):S("",!0),e("form",{class:"space-y-4 md:space-y-6",action:"#",onSubmit:r[2]||(r[2]=(...s)=>t.handleSubmit&&t.handleSubmit(...s))},[e("div",null,[j,f(e("input",{type:"email",name:"email",id:"email","onUpdate:modelValue":r[0]||(r[0]=s=>t.email=s),class:"bg-opacity-25 border border-gray-300 sm:text-sm rounded-lg block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-gray-500"},null,512),[[y,t.email]])]),e("div",null,[q,f(e("input",{type:"password",name:"password",id:"password","onUpdate:modelValue":r[1]||(r[1]=s=>t.password=s),class:"bg-opacity-25 border border-gray-300 sm:text-sm rounded-lg block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-gray-500"},null,512),[[y,t.password]])]),J,e("p",M,[p(" Don\u2019t have an account yet? "),B(h,{to:"/register",class:"font-medium text-green-500 underline dark:text-green-500"},{default:N(()=>[p(" Sign up ")]),_:1})])],32)])])])}var G=v($,[["render",O]]);export{G as default};
